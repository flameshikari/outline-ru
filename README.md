# üìö [Outline](https://github.com/outline/outline) —Å —Ä—É—Å—Å–∫–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º [![Build Status](https://img.shields.io/github/actions/workflow/status/flameshikari/outline-ru/build.yml)](https://github.com/flameshikari/outline-ru/actions) [![Version](https://img.shields.io/github/v/release/flameshikari/outline-ru?style=)](https://github.com/flameshikari/outline-ru/releases/latest)

## ‚ùì –ó–∞—á–µ–º

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ [Outline](https://github.com/outline/outline) –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∞ –≤ –≤–µ—Ä—Å–∏–∏ [0.71.0](https://github.com/outline/outline/releases/tag/v0.71.0) –ø–æ [–Ω–µ–∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏—á–∏–Ω–∞–º](https://github.com/outline/outline/discussions/5706).

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –æ–±—Ä–∞–∑ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ [Docker Hub](https://hub.docker.com/r/flameshikari/outline-ru/tags) –∏ [GHCR](https://github.com/flameshikari/outline-ru/pkgs/container/outline-ru)
- –∑–∞ –æ—Å–Ω–æ–≤—É –≤–∑—è—Ç –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ [—ç—Ç–æ–≥–æ –∫–æ–º–º–∏—Ç–∞](https://github.com/outline/outline/commit/228d1faa9fd3cbb82409d98e1443fed65adc5715)
- —Å–æ–æ–±—â–∏—Ç—å –æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –ø–µ—Ä–µ–≤–æ–¥–µ –º–æ–∂–Ω–æ [—Ç—É—Ç](https://github.com/flameshikari/outline-ru/discussions/8)

## üê≥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

> [!WARNING]
> –ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–µ–ª–∞–π—Ç–µ [–±—ç–∫–∞–ø](https://docs.getoutline.com/s/hosting/doc/backups-KZtPOADCHG)!

–°–ª–µ–¥—É–π—Ç–µ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](https://docs.getoutline.com/s/hosting/doc/docker-7pfeLP5a8t), —Ç–æ–ª—å–∫–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ `image` —É–∫–∞–∂–∏—Ç–µ `flameshikari/outline-ru:latest` (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é, –∑–∞–º–µ–Ω–∏–≤ `latest` –Ω–∞ –æ–¥–∏–Ω –∏–∑ [–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–≥–æ–≤](https://github.com/flameshikari/outline-ru/tags)). –ù–∞–ø—Ä–∏–º–µ—Ä:

```yaml
services:
  outline:
    image: flameshikari/outline-ru:1.0.0
    # image: ghcr.io/flameshikari/outline-ru:1.0.0
    env_file: ./docker.env
    expose:
      - 3000
    volumes:
      - storage-data:/var/lib/outline/data
    depends_on:
      - postgres
      - redis

  ...
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

- —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ ‚Äî [translation/ru.json](./translation/ru.json)
- –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ ‚Äî [outline/shared/i18n/locales/en_US/translation.json](https://github.com/outline/outline/blob/main/shared/i18n/locales/en_US/translation.json)
- –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª ‚Äî [translation/tmp.json]() (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ)

### –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞

–°–∫—Ä–∏–ø—Ç [translation/merge.py](./translation/merge.py) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∏ —Ä—É—Å—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª. –°–∫—Ä–∏–ø—Ç –Ω–µ –∏–º–µ–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤/–æ–ø—Ü–∏–π, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (—Å –≤—ã–≤–æ–¥–æ–º –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏) –∏ –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- —É–¥–∞–ª—è–µ—Ç –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- –µ—Å–ª–∏ –≤ —Ä—É—Å—Å–∫–æ–º –ø–µ—Ä–µ–≤–æ–¥–µ –µ—Å—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ key/value –ø–∞—Ä—ã, —Ç–æ –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `HTML` –∏–ª–∏ `API`) –∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
- –Ω–æ–≤—ã–µ –Ω–µ–ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü

> –¢–∞–∫–∂–µ —Å–∫—Ä–∏–ø—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_plural` (–∞–Ω–≥–ª. –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ) –≤ —Å—Ç—Ä–æ–∫–∏ —Å —á–∏—Å–ª–æ–≤—ã–º–∏ —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–æ –ø–∞–¥–µ–∂–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–º–µ–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
> 
> ```jsonc
> {
>   // ...
>   "{{ count }} comment": "{{ count }} comment",
>   "{{ count }} comment_plural": "{{ count }} comments"
>   // ...
> }
> ```
> –°—Ç—Ä–æ–∫–∏ –ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–º:
> ```jsonc
> {
>   // ...
>   "{{ count }} comment_0": "[NOT TRANSLATED]",
>   "{{ count }} comment_1": "[NOT TRANSLATED]",
>   "{{ count }} comment_2": "[NOT TRANSLATED]"
>   // ...
> }
> ```
> –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞:
> ```jsonc
> {
>   // ...
>   "{{ count }} comment_0": "{{ count }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π", // –µ–¥. —á–∏—Å–ª–æ, –∏–º. –ø–∞–¥–µ–∂
>   "{{ count }} comment_1": "{{ count }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è", // –µ–¥. —á–∏—Å–ª–æ, —Ä–æ–¥. –ø–∞–¥–µ–∂
>   "{{ count }} comment_2": "{{ count }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤" // –º–Ω. —á–∏—Å–ª–æ, —Ä–æ–¥. –ø–∞–¥–µ–∂
>   // ...
> }
> ```
> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ](https://www.i18next.com/translation-function/plurals#languages-with-multiple-plurals) –≤ [i18next](https://www.i18next.com) —Å [JSON-—Ñ–æ—Ä–º–∞—Ç–æ–º –≤–µ—Ä—Å–∏–∏ 3](https://www.i18next.com/misc/json-format#i18next-json-v3)


### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø–æ–¥–º–æ–¥—É–ª–µ–º:
    ```sh
    git clone --recurse-submodules git@github.com:flameshikari/outline-ru.git
    ```

2. –ü—É–ª–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ–¥–º–æ–¥—É–ª–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ç–µ–≥:
    ```sh
    git submodule foreach 'git pull --rebase --tags && git checkout v1.0.0'
    ```

3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
    ```sh
    docker compose up -d --build
    ```
    –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Outline –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ [—ç—Ç–æ–π —Å—Å—ã–ª–∫–µ](http://localhost:10240); –≤—Ö–æ–¥–∏—Ç—å —Å –ø–æ–º–æ—â—å—é OpenID Connect –ø–æ–¥ –ª–æ–≥–∏–Ω–æ–º/–ø–∞—Ä–æ–ª–µ–º `outline`.

4. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é [translation/merge.py](./translation/merge.py):
    ```sh
    python translation/merge.py
    ```
    –ü–æ—Å–ª–µ –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –ø–µ—Ä–µ–≤–æ–¥—É —Å—Ñ–æ–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –≤ —Ñ–∞–π–ª —Ä—É—Å—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞. –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä—É—Å—Å–∫–æ–º –ø–µ—Ä–µ–≤–æ–¥–µ –æ–±–Ω–æ–≤—è—Ç [–æ—Ç–∫—Ä—ã—Ç—É—é –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É](http://localhost:10240) —á–µ—Ä–µ–∑ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥.
