# üìö [Outline](https://github.com/outline/outline) —Å —Ä—É—Å—Å–∫–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º [![Build Status](https://img.shields.io/github/actions/workflow/status/flameshikari/outline-ru/build.yml)](https://github.com/flameshikari/outline-ru/actions) [![Version](https://img.shields.io/github/v/release/flameshikari/outline-ru?style=)](https://github.com/flameshikari/outline-ru/releases/latest)

## ‚ùì –ó–∞—á–µ–º

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ [Outline](https://github.com/outline/outline) –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∞ –≤ –≤–µ—Ä—Å–∏–∏ [0.71.0](https://github.com/outline/outline/releases/tag/v0.71.0) –ø–æ [–Ω–µ–∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏—á–∏–Ω–∞–º](https://github.com/outline/outline/discussions/5706).

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –æ–±—Ä–∞–∑ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ [Docker Hub](https://hub.docker.com/r/flameshikari/outline-ru/tags) –∏ [GHCR](https://github.com/flameshikari/outline-ru/pkgs/container/outline-ru)
- –∑–∞ –æ—Å–Ω–æ–≤—É –≤–∑—è—Ç –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ [—ç—Ç–æ–≥–æ –∫–æ–º–º–∏—Ç–∞](https://github.com/outline/outline/commit/228d1faa9fd3cbb82409d98e1443fed65adc5715)
- —Å–æ–æ–±—â–∏—Ç—å –æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –ø–µ—Ä–µ–≤–æ–¥–µ –º–æ–∂–Ω–æ [—Ç—É—Ç](https://github.com/flameshikari/outline-ru/discussions/8)

## üê≥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

> –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –ø—Ä–æ—á—Ç–∏—Ç–µ [–ø—Ä–æ –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º](https://docs.getoutline.com/s/hosting/doc/backups-KZtPOADCHG)

–°–ª–µ–¥—É–π—Ç–µ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](https://docs.getoutline.com/s/hosting/doc/docker-7pfeLP5a8t), —Ç–æ–ª—å–∫–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ `image` —É–∫–∞–∂–∏—Ç–µ `flameshikari/outline-ru:latest` (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é, –∑–∞–º–µ–Ω–∏–≤ `latest` –Ω–∞ –æ–¥–∏–Ω –∏–∑ [–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ–≥–æ–≤](https://github.com/flameshikari/outline-ru/tags)). –ù–∞–ø—Ä–∏–º–µ—Ä:

```yaml
services:
  outline:
    image: flameshikari/outline-ru:0.85.0
    # image: ghcr.io/flameshikari/outline-ru:0.85.0
    env_file: ./docker.env
    expose:
      - 3000
    volumes:
      - storage-data:/var/lib/outline/data
    depends_on:
      - postgres
      - redis

  ...
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Outline –æ–ø–∏—Å–∞–Ω –≤ –æ–¥–Ω–æ–º [Dockerfile](./Dockerfile) –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤—É—Ö –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º [–ø–∞—Ç—á–∞](./tools/language.patch) –ø–æ–≤–µ—Ä—Ö –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ Outline (–æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —ç—Ç–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–¥–º–æ–¥—É–ª—è) –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º [—Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∞](./tools/translation.json). –ü–∞—Ç—á, –ø–æ–º–∏–º–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–æ–∫ –≤ –∫–æ–¥, –º–µ–Ω—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ upstream-—Å—Å—ã–ª–∫–∏, —á—Ç–æ–±—ã Outline –º–æ–Ω–∏—Ç–æ—Ä–∏–ª —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π, –∞ –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π.

–í [docker-compose.yml](./docker-compose.yml) –æ–ø–∏—Å–∞–Ω—ã —á–µ—Ç—ã—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–∞–ª–µ–µ ‚Äî —ç—Ç–æ localhost-—Å—Å—ã–ª–∫–∏): [Outline](http://localhost:10240), Redis, Postgres –∏ [—Ç–µ—Å—Ç–æ–≤—ã–π OIDC-—Å–µ—Ä–≤–µ—Ä](http://localhost:10241) (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å: `outline`). –¢–∞–∫–∂–µ —Ç–∞–º –æ–ø–∏—Å–∞–Ω–∞ –≤—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤; –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –ø–æ–¥ —Å–µ–±—è –ø–æ –∂–µ–ª–∞–Ω–∏—é. –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–ª–æ—ë–≤ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –∫—ç—à–∞, —Å–∞–º Outline –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –æ–∫–æ–ª–æ –ø–æ–ª–º–∏–Ω—É—Ç—ã-–º–∏–Ω—É—Ç—ã (—Ç—É—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∂–µ–ª–µ–∑–∞). –ü–∞–π–ø–ª–∞–π–Ω –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π: –ø–µ—Ä–µ–≤—ë–ª ‚Üí —Å–æ–±—Ä–∞–ª ‚Üí –ø—Ä–æ–≤–µ—Ä–∏–ª.

–°–∫—Ä–∏–ø—Ç [diff.py](./tools/diff.py) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ [–∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ](https://github.com/outline/outline/blob/main/shared/i18n/locales/en_US/translation.json) —Å [—Ä—É—Å—Å–∫–∏–º](./tools/translation.json) –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª `./tools/translation.tmp.json`. –°–∫—Ä–∏–ø—Ç –Ω–µ –∏–º–µ–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤/–æ–ø—Ü–∏–π, –æ–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (—Å –≤—ã–≤–æ–¥–æ–º –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏) –∏ –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- —É–¥–∞–ª—è–µ—Ç –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- –µ—Å–ª–∏ –≤ —Ñ–∞–π–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –µ—Å—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ key/value –ø–∞—Ä—ã, —Ç–æ –æ–Ω–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `HTML` –∏–ª–∏ `API`) –∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
- –Ω–æ–≤—ã–µ –Ω–µ–ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü

> –í–æ–∑–º–æ–∂–Ω–æ, –¥–ª—è –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç–æ–∏–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Crowdin](https://crowdin.com), –Ω–æ —á—Ç–æ-—Ç–æ —Ä—É–∫–∏ –Ω–µ –¥–æ—à–ª–∏ ¬Ø\\_(„ÉÑ)_/¬Ø

–í–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –≤—Ä—É—á–Ω—É—é –¥–µ–ª–∞–µ—Ç—Å—è –ø–µ—Ä–µ–≤–æ–¥ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫, –∞ –∑–∞—Ç–µ–º [—Ñ–∞–π–ª –ø–µ—Ä–µ–≤–æ–¥–∞](./tools/translation.json) –≤—Ä—É—á–Ω—É—é –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º.

> –ï—Å–ª–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–≤–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –Ω–µ–ø–µ—Ä–µ–≤–µ–¥—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, –Ω–æ –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_plural` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ), –Ω–∞–ø—Ä–∏–º–µ—Ä:
> 
> ```json
> {
>   "{{ count }} comment": "{{ count }} comment",
>   "{{ count }} comment_plural": "{{ count }} comments"
> }
> ```
> ‚Ä¶—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏: [–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ](https://www.i18next.com/translation-function/plurals#languages-with-multiple-plurals) –≤ [i18next](https://www.i18next.com) —Å [JSON-—Ñ–æ—Ä–º–∞—Ç–æ–º –≤–µ—Ä—Å–∏–∏ 3](https://www.i18next.com/misc/json-format#i18next-json-v3)):
> 
> ```json
> {
>   "{{ count }} comment_0": "{{ count }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
>   "{{ count }} comment_1": "{{ count }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è",
>   "{{ count }} comment_2": "{{ count }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤"
> }
> ```

### –ö–æ–º–∞–Ω–¥—ã

0. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –ø–æ–¥–º–æ–¥—É–ª–µ–º
    ```sh
    git clone --recurse-submodules git@github.com:flameshikari/outline-ru.git
    ```

1. –ü—É–ª–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ–¥–º–æ–¥—É–ª–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–º–∏—Ç —Å —Ü–µ–ª–µ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π
    ```sh
    cd outline
    git pull --rebase --tags
    git checkout v0.85.0
    cd -
    ```

2. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø–æ–º–æ—â—å—é [diff.py](./tools/diff.py)
    ```sh
    python ./tools/diff.py
    ```

3. –ó–∞–º–µ–Ω–∞ [—Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∞](./tools/translation.json) –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ
    ```
    cp ./tools/translation.tmp.json ./tools/translation.json
    ```

4. –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ```sh
    docker compose up -d --build
    ```